{"title":"【译】Fucking SwiftUI","date":"2019-07-18T02:31:57.000Z","date_formatted":{"ll":"Jul 18, 2019","L":"07/18/2019","MM-DD":"07-18"},"thumbnail":"2019/fucking-swift-ui/swift-ui.png","link":"2019/fucking-swift-ui","comments":true,"tags":["SwiftUI"],"categories":["iOS","翻译"],"updated":"2020-03-14T15:02:05.000Z","content":"<blockquote>\n<p>原文：<a href=\"https://fuckingswiftui.com/\" target=\"_blank\">Fucking Swift UI - Cheat Sheet</a><br>译者的话：翻译过程中，发现了原文中的几个错误，我向作者<a href=\"https://twitter.com/sarunw\" target=\"_blank\">@sarunw</a>提出意见后，直接在译文中改掉了，如果您发现文中内容有误，欢迎与我联系。</p>\n</blockquote>\n<a id=\"more\"></a><p>关于 SwiftUI，您在下文中看到的所有答案并不是完整详细的，它只能充当一份备忘单，或是检索表。</p>\n<h2 id=\"常见问题\">常见问题<a href=\"#常见问题\" title=\"常见问题\"></a></h2><p>关于 SwiftUI 的常见问题：</p>\n<p><strong>是否需要学 SwiftUI？</strong></p>\n<p>是</p>\n<p><strong>是否有必要现在就学 SwiftUI？</strong></p>\n<p>看情况，因为 SwiftUI 目前只能在 iOS 13、macOS 10.15、tvOS 13和 watchOS 6 上运行。如果您要开发的新应用计划仅针对前面提到的 OS 系统，我会说是。 但是，如果您打算找工作或是无法确保会在此 OS 版本的客户端项目上工作，则可能要等一两年，再考虑迁移成 SwiftUI，毕竟大多数客户端工作都希望支持尽可能多的用户，这意味着您的应用必须兼容多个 OS 系统。 因此，一年后再去体验优雅的 SwiftUI 也许是最好的时机。</p>\n<p><strong>是否需要学 UIKit/AppKit/WatchKit？</strong></p>\n<p>是的，就长时间来看，UIKit 仍将是 iOS 架构的重要组成部分。现在的 SwiftUI 并不成熟完善，我认为即使您打算用 SwiftUI 来开发，仍然不时需要用到 UIKit。</p>\n<p><strong>SwiftUI 能代替 UIKit/AppKit/WatchKit 吗?</strong></p>\n<p>现在不行，但将来也许会。SwiftUI 虽然是刚刚推出的，它看起来已经很不错。我希望两者能长期共存，SwiftUI 还很年轻，它还需要几年的打磨成长才能去代替 UIKit/AppKit/WatchKit。</p>\n<p><strong>如果我现在只能学习一种，那么应该选择 UIKit/AppKit/WatchKit 还是 SwiftUI？</strong></p>\n<p>UIKit。 您始终可以依赖 UIKit，它用起来一直不错，且未来一段时间仍然可用。如果您直接从 SwiftUI 开始学习，可能会遗漏了解一些功能。</p>\n<p><strong>SwiftUI 的控制器在哪里？</strong></p>\n<p>没有了。 如今页面间直接通过响应式编程框架 Combine 交互。Combine 也作为新的通信方式替代了 UIViewController。</p>\n<h2 id=\"要求\">要求<a href=\"#要求\" title=\"要求\"></a></h2><ul><li>Xcode 11 Beta（<a href=\"https://developer.apple.com/download/\" target=\"_blank\">从 Apple 官网下载</a>）</li><li>iOS 13 / macOS 10.15 / tvOS 13 / watchOS 6</li><li>macOS Catalina，以便在画布上呈现 SwiftUI（<a href=\"https://developer.apple.com/download/\" target=\"_blank\">从 Apple 官网下载</a>）</li></ul><blockquote>\n<p><strong>想要体验 SwiftUI 画布，但不想在您的电脑上安装 macOS Catalina beta 系统</strong><br>您可以与当前的 macOS 版本并行安装 Catalina。这里介绍了<a href=\"https://support.apple.com/en-us/HT208891\" target=\"_blank\">如何在单独的 APFS 卷上安装 macOS</a></p>\n</blockquote>\n<h2 id=\"swiftui-中等效的-uikit\">SwiftUI 中等效的 UIKit<a href=\"#swiftui-中等效的-uikit\" title=\"SwiftUI 中等效的 UIKit\"></a></h2><h3 id=\"视图控制器\">视图控制器<a href=\"#视图控制器\" title=\"视图控制器\"></a></h3><div class=\"φcz\"><div class=\"φdb\"><table><thead><tr>\n<th align=\"left\">UIKit</th><th align=\"center\">SwiftUI</th><th align=\"center\">备注</th></tr>\n</thead><tbody><tr>\n<td align=\"left\">UIViewController</td><td align=\"center\">View</td><td align=\"center\">-</td></tr>\n<tr>\n<td align=\"left\">UITableViewController</td><td align=\"center\"><a href=\"#list\">List</a></td><td align=\"center\">-</td></tr>\n<tr>\n<td align=\"left\">UICollectionViewController</td><td align=\"center\">-</td><td align=\"center\">目前，还没有 SwiftUI 的替代品，但是您可以像<a href=\"https://developer.apple.com/tutorials/swiftui/composing-complex-interfaces\" target=\"_blank\">Composing Complex Interfaces’s tutorial</a>里那样，使用 List 的组成来模拟布局</td></tr>\n<tr>\n<td align=\"left\">UISplitViewController</td><td align=\"center\"><a href=\"#navigationview\">NavigationView</a></td><td align=\"center\">Beta 5中有部分支持，但仍然无法使用。</td></tr>\n<tr>\n<td align=\"left\">UINavigationController</td><td align=\"center\"><a href=\"#navigationview\">NavigationView</a></td><td align=\"center\">-</td></tr>\n<tr>\n<td align=\"left\">UIPageViewController</td><td align=\"center\">-</td><td align=\"center\">-</td></tr>\n<tr>\n<td align=\"left\">UITabBarController</td><td align=\"center\"><a href=\"#tabview\">TabView</a></td><td align=\"center\">-</td></tr>\n<tr>\n<td align=\"left\">UISearchController</td><td align=\"center\">-</td><td align=\"center\">-</td></tr>\n<tr>\n<td align=\"left\">UIImagePickerController</td><td align=\"center\">-</td><td align=\"center\">-</td></tr>\n<tr>\n<td align=\"left\">UIVideoEditorController</td><td align=\"center\">-</td><td align=\"center\">-</td></tr>\n<tr>\n<td align=\"left\">UIActivityViewController</td><td align=\"center\">-</td><td align=\"center\">-</td></tr>\n<tr>\n<td align=\"left\">UIAlertController</td><td align=\"center\"><a href=\"#alert\">Alert</a></td><td align=\"center\">-</td></tr>\n</tbody></table></div></div><h3 id=\"视图和控件\">视图和控件<a href=\"#视图和控件\" title=\"视图和控件\"></a></h3><div class=\"φcz\"><div class=\"φdb\"><table><thead><tr>\n<th align=\"left\">UIKit</th><th align=\"center\">SwiftUI</th><th align=\"center\">备注</th></tr>\n</thead><tbody><tr>\n<td align=\"left\">UILabel</td><td align=\"center\"><a href=\"#text\">Text</a></td><td align=\"center\">-</td></tr>\n<tr>\n<td align=\"left\">UITabBar</td><td align=\"center\"><a href=\"#tabview\">TabView</a></td><td align=\"center\">-</td></tr>\n<tr>\n<td align=\"left\">UITabBarItem</td><td align=\"center\"><a href=\"#tabview\">TabView</a></td><td align=\"center\"><a href=\"#tabview\">TabView</a> 里的 <code>.tabItem</code></td></tr>\n<tr>\n<td align=\"left\">UITextField</td><td align=\"center\"><a href=\"#textfield\">TextField</a></td><td align=\"center\">Beta 5中有部分支持，但仍然无法使用。</td></tr>\n<tr>\n<td align=\"left\">UITableView</td><td align=\"center\"><a href=\"#list\">List</a></td><td align=\"center\"><a href=\"#vstack\">VStack</a> 和 <a href=\"#form\">Form</a> 也可以</td></tr>\n<tr>\n<td align=\"left\">UINavigationBar</td><td align=\"center\"><a href=\"#navigationview\">NavigationView</a></td><td align=\"center\"><a href=\"#navigationview\">NavigationView</a> 的一部分</td></tr>\n<tr>\n<td align=\"left\">UIBarButtonItem</td><td align=\"center\"><a href=\"#navigationview\">NavigationView</a></td><td align=\"center\"><a href=\"#navigationview\">NavigationView</a> 里的 <code>.navigationBarItems</code></td></tr>\n<tr>\n<td align=\"left\">UICollectionView</td><td align=\"center\">-</td><td align=\"center\">-</td></tr>\n<tr>\n<td align=\"left\">UIStackView</td><td align=\"center\"><a href=\"#hstack\">HStack</a></td><td align=\"center\"><code>.axis == .Horizontal</code></td></tr>\n<tr>\n<td align=\"left\">UIStackView</td><td align=\"center\"><a href=\"#vstack\">VStack</a></td><td align=\"center\"><code>.axis == .Vertical</code></td></tr>\n<tr>\n<td align=\"left\">UIScrollView</td><td align=\"center\"><a href=\"#scrollview\">ScrollView</a></td><td align=\"center\">-</td></tr>\n<tr>\n<td align=\"left\">UIActivityIndicatorView</td><td align=\"center\">-</td><td align=\"center\">-</td></tr>\n<tr>\n<td align=\"left\">UIImageView</td><td align=\"center\"><a href=\"#image\">Image</a></td><td align=\"center\">-</td></tr>\n<tr>\n<td align=\"left\">UIPickerView</td><td align=\"center\"><a href=\"#picker\">Picker</a></td><td align=\"center\">-</td></tr>\n<tr>\n<td align=\"left\">UIButton</td><td align=\"center\"><a href=\"#button\">Button</a></td><td align=\"center\">-</td></tr>\n<tr>\n<td align=\"left\">UIDatePicker</td><td align=\"center\"><a href=\"#datepicker\">DatePicker</a></td><td align=\"center\">-</td></tr>\n<tr>\n<td align=\"left\">UIPageControl</td><td align=\"center\">-</td><td align=\"center\">-</td></tr>\n<tr>\n<td align=\"left\">UISegmentedControl</td><td align=\"center\"><a href=\"#picker\">Picker</a></td><td align=\"center\"><a href=\"#picker\">Picker</a> 中的一种样式 <code>SegmentedPickerStyle</code></td></tr>\n<tr>\n<td align=\"left\">UISlider</td><td align=\"center\"><a href=\"#slider\">Slider</a></td><td align=\"center\">-</td></tr>\n<tr>\n<td align=\"left\">UIStepper</td><td align=\"center\"><a href=\"#stepper\">Stepper</a></td><td align=\"center\">-</td></tr>\n<tr>\n<td align=\"left\">UISwitch</td><td align=\"center\"><a href=\"#toggle\">Toggle</a></td><td align=\"center\">-</td></tr>\n<tr>\n<td align=\"left\">UIToolBar</td><td align=\"center\">-</td><td align=\"center\">-</td></tr>\n</tbody></table></div></div><h3 id=\"框架集成---swiftui-中的-uikit\">框架集成 - SwiftUI 中的 UIKit<a href=\"#框架集成---swiftui-中的-uikit\" title=\"框架集成 - SwiftUI 中的 UIKit\"></a></h3><p>将 SwiftUI 视图集成到现有应用程序中，并将 UIKit 视图和控制器嵌入 SwiftUI 视图层次结构中。</p>\n<div class=\"φcz\"><div class=\"φdb\"><table><thead><tr>\n<th align=\"left\">UIKit</th><th align=\"left\">SwiftUI</th><th align=\"center\">备注</th></tr>\n</thead><tbody><tr>\n<td align=\"left\">UIView</td><td align=\"left\"><a href=\"#uiviewrepresentable\">UIViewRepresentable</a></td><td align=\"center\">-</td></tr>\n<tr>\n<td align=\"left\">UIViewController</td><td align=\"left\"><a href=\"#uiviewcontrollerrepresentable\">UIViewControllerRepresentable</a></td><td align=\"center\">-</td></tr>\n</tbody></table></div></div><h3 id=\"框架集成---uikit-中的-swiftui\">框架集成 - UIKit 中的 SwiftUI<a href=\"#框架集成---uikit-中的-swiftui\" title=\"框架集成 - UIKit 中的 SwiftUI\"></a></h3><p>将 SwiftUI 视图集成到现有应用程序中，并将 UIKit 视图和控制器嵌入 SwiftUI 视图层次结构中。</p>\n<div class=\"φcz\"><div class=\"φdb\"><table><thead><tr>\n<th align=\"left\">UIKit</th><th align=\"left\">SwiftUI</th><th align=\"center\">备注</th></tr>\n</thead><tbody><tr>\n<td align=\"left\">UIView (<a href=\"#uihostingcontroller\">UIHostingController</a>)</td><td align=\"left\">View</td><td align=\"center\">没有直接转换为 UIView 的方法，但是您可以使用容器视图将 UIViewController 中的视图添加到视图层次结构中</td></tr>\n<tr>\n<td align=\"left\">UIViewController (<a href=\"#uihostingcontroller\">UIHostingController</a>)</td><td align=\"left\">View</td><td align=\"center\">-</td></tr>\n</tbody></table></div></div><h2 id=\"swiftui---视图和控件\">SwiftUI - 视图和控件<a href=\"#swiftui---视图和控件\" title=\"SwiftUI - 视图和控件\"></a></h2><h3 id=\"text\"><span id=\"text\">Text</span><a href=\"#text\" title=\"Text\"></a></h3><p>显示一行或多行只读文本的视图。</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">Text</span>(<span class=\"string\">\"Hello World\"</span>)</span><br></pre></td></tr></table></figure><p>样式:</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">Text</span>(<span class=\"string\">\"Hello World\"</span>)</span><br><span class=\"line\">  .bold()</span><br><span class=\"line\">  .italic()</span><br><span class=\"line\">  .underline()</span><br><span class=\"line\">  .lineLimit(<span class=\"number\">2</span>)</span><br></pre></td></tr></table></figure><p><code>Text</code> 中填入的字符串也用作 <code>LocalizedStringKey</code>，因此也会直接获得 <code>NSLocalizedString</code> 的特性。</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">Text</span>(<span class=\"string\">\"This text used as localized key\"</span>)</span><br></pre></td></tr></table></figure><p>直接在文本视图里格式化文本。 实际上，这不是 SwiftUI 的功能，而是 Swift 5的字符串插入特性。</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">static</span> <span class=\"keyword\">let</span> dateFormatter: <span class=\"type\">DateFormatter</span> = &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> formatter = <span class=\"type\">DateFormatter</span>()</span><br><span class=\"line\">    formatter.dateStyle = .long</span><br><span class=\"line\">    <span class=\"keyword\">return</span> formatter</span><br><span class=\"line\">&#125;()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> now = <span class=\"type\">Date</span>()</span><br><span class=\"line\"><span class=\"keyword\">var</span> body: some <span class=\"type\">View</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">Text</span>(<span class=\"string\">\"What time is it?: \\(now, formatter: Self.dateFormatter)\"</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p>可以直接用 <code>+</code> 拼接 <code>Text</code> 文本:</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">Text</span>(<span class=\"string\">\"Hello \"</span>) + <span class=\"type\">Text</span>(<span class=\"string\">\"World!\"</span>).bold()</span><br></pre></td></tr></table></figure><p>文字对齐方式：</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">Text</span>(<span class=\"string\">\"Hello\\nWorld!\"</span>).multilineTextAlignment(.center)</span><br></pre></td></tr></table></figure><p><a href=\"https://developer.apple.com/documentation/swiftui/text\" target=\"_blank\">文档</a></p>\n<h3 id=\"textfield\"><span id=\"textfield\">TextField</span><a href=\"#textfield\" title=\"TextField\"></a></h3><p>显示可编辑文本界面的控件。</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@<span class=\"type\">State</span> <span class=\"keyword\">var</span> name: <span class=\"type\">String</span> = <span class=\"string\">\"John\"</span>    </span><br><span class=\"line\"><span class=\"keyword\">var</span> body: some <span class=\"type\">View</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">TextField</span>(<span class=\"string\">\"Name's placeholder\"</span>, text: $name)</span><br><span class=\"line\">        .textFieldStyle(<span class=\"type\">RoundedBorderTextFieldStyle</span>())</span><br><span class=\"line\">        .padding()</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p><a href=\"https://developer.apple.com/documentation/swiftui/textfield\" target=\"_blank\">文档</a></p>\n<h3 id=\"securefield\"><span id=\"securefield\">SecureField</span><a href=\"#securefield\" title=\"SecureField\"></a></h3><p>用户安全地输入私人文本的控件。</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@<span class=\"type\">State</span> <span class=\"keyword\">var</span> password: <span class=\"type\">String</span> = <span class=\"string\">\"1234\"</span>    </span><br><span class=\"line\"><span class=\"keyword\">var</span> body: some <span class=\"type\">View</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">SecureField</span>($password)</span><br><span class=\"line\">        .textFieldStyle(<span class=\"type\">RoundedBorderTextFieldStyle</span>())</span><br><span class=\"line\">        .padding()</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p><a href=\"https://developer.apple.com/documentation/swiftui/securefield\" target=\"_blank\">文档</a></p>\n<h3 id=\"image\"><span id=\"image\">Image</span><a href=\"#image\" title=\"Image\"></a></h3><p>显示图像的视图。</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">Image</span>(<span class=\"string\">\"foo\"</span>) <span class=\"comment\">//图像名字为 foo</span></span><br></pre></td></tr></table></figure><p>我们可以使用新的 SF Symbols：</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">Image</span>(systemName: <span class=\"string\">\"clock.fill\"</span>)</span><br></pre></td></tr></table></figure><p>您可以通过为系统图标添加样式，来匹配您使用的字体：</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">Image</span>(systemName: <span class=\"string\">\"cloud.heavyrain.fill\"</span>)</span><br><span class=\"line\">    .foregroundColor(.red)</span><br><span class=\"line\">    .font(.title)</span><br><span class=\"line\"><span class=\"type\">Image</span>(systemName: <span class=\"string\">\"clock\"</span>)</span><br><span class=\"line\">    .foregroundColor(.red)</span><br><span class=\"line\">    .font(<span class=\"type\">Font</span>.system(.largeTitle).bold())</span><br></pre></td></tr></table></figure><p>为图片增加样式：</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">Image</span>(<span class=\"string\">\"foo\"</span>)</span><br><span class=\"line\">    .resizable() <span class=\"comment\">// 调整大小，以便填充所有可用空间</span></span><br><span class=\"line\">    .aspectRatio(contentMode: .fit)</span><br></pre></td></tr></table></figure><p><a href=\"https://developer.apple.com/documentation/swiftui/image\" target=\"_blank\">文档</a></p>\n<h3 id=\"button\"><span id=\"button\">Button</span><a href=\"#button\" title=\"Button\"></a></h3><p>在触发时执行操作的控件。</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">Button</span>(</span><br><span class=\"line\">    action: &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 点击事件</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    label: &#123; <span class=\"type\">Text</span>(<span class=\"string\">\"Click Me\"</span>) &#125;</span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure><p>如果按钮的标签只有 <code>Text</code>，则可以通过下面这种简单的方式进行初始化：</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">Button</span>(<span class=\"string\">\"Click Me\"</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 点击事件</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p>您可以像这样给按钮添加属性：</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">Button</span>(action: &#123;</span><br><span class=\"line\">                </span><br><span class=\"line\">&#125;, label: &#123;</span><br><span class=\"line\">    <span class=\"type\">Image</span>(systemName: <span class=\"string\">\"clock\"</span>)</span><br><span class=\"line\">    <span class=\"type\">Text</span>(<span class=\"string\">\"Click Me\"</span>)</span><br><span class=\"line\">    <span class=\"type\">Text</span>(<span class=\"string\">\"Subtitle\"</span>)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">.foregroundColor(<span class=\"type\">Color</span>.white)</span><br><span class=\"line\">.padding()</span><br><span class=\"line\">.background(<span class=\"type\">Color</span>.blue)</span><br><span class=\"line\">.cornerRadius(<span class=\"number\">5</span>)</span><br></pre></td></tr></table></figure><p><a href=\"https://developer.apple.com/documentation/swiftui/button\" target=\"_blank\">文档</a></p>\n<h3 id=\"navigationlink\"><span id=\"navigationlink\">NavigationLink</span><a href=\"#navigationlink\" title=\"NavigationLink\"></a></h3><p>按下时会触发导航演示的按钮。它用作代替 <code>pushViewController</code>。</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">NavigationView</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">NavigationLink</span>(destination:</span><br><span class=\"line\">        <span class=\"type\">Text</span>(<span class=\"string\">\"Detail\"</span>)</span><br><span class=\"line\">        .navigationBarTitle(<span class=\"type\">Text</span>(<span class=\"string\">\"Detail\"</span>))</span><br><span class=\"line\">    ) &#123;</span><br><span class=\"line\">        <span class=\"type\">Text</span>(<span class=\"string\">\"Push\"</span>)</span><br><span class=\"line\">    &#125;.navigationBarTitle(<span class=\"type\">Text</span>(<span class=\"string\">\"Master\"</span>))</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p>为了增强可读性，可以把 <code>destination</code> 包装成自定义视图 <code>DetailView</code> 的方式：</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">NavigationView</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">NavigationLink</span>(destination: <span class=\"type\">DetailView</span>()) &#123;</span><br><span class=\"line\">        <span class=\"type\">Text</span>(<span class=\"string\">\"Push\"</span>)</span><br><span class=\"line\">    &#125;.navigationBarTitle(<span class=\"type\">Text</span>(<span class=\"string\">\"Master\"</span>))</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><blockquote>\n<p>但不确定是 Bug 还是设计使然，上述代码 在 Beta 5 中的无法正常执行。尝试像这样把 <code>NavigationLink</code> 包装进列表中试一下：</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">NavigationView</span> &#123;</span><br><span class=\"line\">   <span class=\"type\">List</span> &#123;</span><br><span class=\"line\">       <span class=\"type\">NavigationLink</span>(destination: <span class=\"type\">Text</span>(<span class=\"string\">\"Detail\"</span>)) &#123;</span><br><span class=\"line\">           <span class=\"type\">Text</span>(<span class=\"string\">\"Push\"</span>)</span><br><span class=\"line\">       &#125;.navigationBarTitle(<span class=\"type\">Text</span>(<span class=\"string\">\"Master\"</span>))</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">&#125; </span><br></pre></td></tr></table></figure></blockquote>\n<p>如果 <code>NavigationLink</code> 的标签只有 <code>Text</code> ，则可以用这样更简单的方式初始化：</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">NavigationLink</span>(<span class=\"string\">\"Detail\"</span>, destination: <span class=\"type\">Text</span>(<span class=\"string\">\"Detail\"</span>).navigationBarTitle(<span class=\"type\">Text</span>(<span class=\"string\">\"Detail\"</span>)))</span><br></pre></td></tr></table></figure><p><a href=\"https://developer.apple.com/documentation/swiftui/navigationlink\" target=\"_blank\">文档</a></p>\n<h3 id=\"toggle\"><span id=\"toggle\">Toggle</span><a href=\"#toggle\" title=\"Toggle\"></a></h3><p>在开/关状态之间切换的控件。</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@<span class=\"type\">State</span> <span class=\"keyword\">var</span> isShowing = <span class=\"literal\">true</span> <span class=\"comment\">// toggle 状态值</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">Toggle</span>(isOn: $isShowing) &#123;</span><br><span class=\"line\">    <span class=\"type\">Text</span>(<span class=\"string\">\"Hello World\"</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p>如果 <code>Toggle</code> 的标签只有 <code>Text</code>，则可以用这样更简单的方式初始化：</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">Toggle</span>(<span class=\"string\">\"Hello World\"</span>, isOn: $isShowing)</span><br></pre></td></tr></table></figure><p><a href=\"https://developer.apple.com/documentation/swiftui/toggle\" target=\"_blank\">文档</a></p>\n<h3 id=\"picker\"><span id=\"picker\">Picker</span><a href=\"#picker\" title=\"Picker\"></a></h3><p>从一组互斥值中进行选择的控件。</p>\n<p>选择器样式根据其被父视图进行更改，在表单或列表下作为一个列表行显示，点击可以推出新界面展示所有的选项卡。</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">NavigationView</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">Form</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">Section</span> &#123;</span><br><span class=\"line\">            <span class=\"type\">Picker</span>(selection: $selection, label:</span><br><span class=\"line\">                <span class=\"type\">Text</span>(<span class=\"string\">\"Picker Name\"</span>)</span><br><span class=\"line\">                , content: &#123;</span><br><span class=\"line\">                    <span class=\"type\">Text</span>(<span class=\"string\">\"Value 1\"</span>).tag(<span class=\"number\">0</span>)</span><br><span class=\"line\">                    <span class=\"type\">Text</span>(<span class=\"string\">\"Value 2\"</span>).tag(<span class=\"number\">1</span>)</span><br><span class=\"line\">                    <span class=\"type\">Text</span>(<span class=\"string\">\"Value 3\"</span>).tag(<span class=\"number\">2</span>)</span><br><span class=\"line\">                    <span class=\"type\">Text</span>(<span class=\"string\">\"Value 4\"</span>).tag(<span class=\"number\">3</span>)</span><br><span class=\"line\">            &#125;)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p>您可以使用 <code>.pickerStyle(WheelPickerStyle())</code>覆盖样式。</p>\n<p>在 iOS 13 中， <code>UISegmentedControl</code> 也只是 <code>Picker</code> 的一种样式。</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@<span class=\"type\">State</span> <span class=\"keyword\">var</span> mapChoioce = <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> settings = [<span class=\"string\">\"Map\"</span>, <span class=\"string\">\"Transit\"</span>, <span class=\"string\">\"Satellite\"</span>]</span><br><span class=\"line\"><span class=\"type\">Picker</span>(<span class=\"string\">\"Options\"</span>, selection: $mapChoioce) &#123;</span><br><span class=\"line\">    <span class=\"type\">ForEach</span>(<span class=\"number\">0</span> ..&lt; settings.<span class=\"built_in\">count</span>) &#123; index <span class=\"keyword\">in</span></span><br><span class=\"line\">        <span class=\"type\">Text</span>(<span class=\"keyword\">self</span>.settings[index])</span><br><span class=\"line\">            .tag(index)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;.pickerStyle(<span class=\"type\">SegmentedPickerStyle</span>())</span><br></pre></td></tr></table></figure><blockquote>\n<p>分段控制器在iOS 13中也焕然一新了。</p>\n</blockquote>\n<p><a href=\"https://developer.apple.com/documentation/swiftui/picker\" target=\"_blank\">文档</a></p>\n<h3 id=\"datepicker\"><span id=\"datepicker\">DatePicker</span><a href=\"#datepicker\" title=\"DatePicker\"></a></h3><p>选择日期的控件。</p>\n<p>日期选择器样式也会根据其父视图进行更改，在表单或列表下作为一个列表行显示，点击可以扩展到日期选择器（就像日历 App 一样）。</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@<span class=\"type\">State</span> <span class=\"keyword\">var</span> selectedDate = <span class=\"type\">Date</span>()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> dateClosedRange: <span class=\"type\">ClosedRange</span>&lt;<span class=\"type\">Date</span>&gt; &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> <span class=\"built_in\">min</span> = <span class=\"type\">Calendar</span>.current.date(byAdding: .day, value: -<span class=\"number\">1</span>, to: <span class=\"type\">Date</span>())!</span><br><span class=\"line\">    <span class=\"keyword\">let</span> <span class=\"built_in\">max</span> = <span class=\"type\">Calendar</span>.current.date(byAdding: .day, value: <span class=\"number\">1</span>, to: <span class=\"type\">Date</span>())!</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">min</span>...<span class=\"built_in\">max</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">NavigationView</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">Form</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">Section</span> &#123;</span><br><span class=\"line\">            <span class=\"type\">DatePicker</span>(</span><br><span class=\"line\">                selection: $selectedDate,</span><br><span class=\"line\">                <span class=\"keyword\">in</span>: dateClosedRange,</span><br><span class=\"line\">                displayedComponents: .date,</span><br><span class=\"line\">                label: &#123; <span class=\"type\">Text</span>(<span class=\"string\">\"Due Date\"</span>) &#125;</span><br><span class=\"line\">            )</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p>不在表单或列表里，它就可以作为普通的旋转选择器。</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@<span class=\"type\">State</span> <span class=\"keyword\">var</span> selectedDate = <span class=\"type\">Date</span>()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> dateClosedRange: <span class=\"type\">ClosedRange</span>&lt;<span class=\"type\">Date</span>&gt; &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> <span class=\"built_in\">min</span> = <span class=\"type\">Calendar</span>.current.date(byAdding: .day, value: -<span class=\"number\">1</span>, to: <span class=\"type\">Date</span>())!</span><br><span class=\"line\">    <span class=\"keyword\">let</span> <span class=\"built_in\">max</span> = <span class=\"type\">Calendar</span>.current.date(byAdding: .day, value: <span class=\"number\">1</span>, to: <span class=\"type\">Date</span>())!</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">min</span>...<span class=\"built_in\">max</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">DatePicker</span>(</span><br><span class=\"line\">    selection: $selectedDate,</span><br><span class=\"line\">    <span class=\"keyword\">in</span>: dateClosedRange,</span><br><span class=\"line\">    displayedComponents: [.hourAndMinute, .date],</span><br><span class=\"line\">    label: &#123; <span class=\"type\">Text</span>(<span class=\"string\">\"Due Date\"</span>) &#125;</span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure><p>如果 <code>DatePicker</code> 的标签只有 <code>Text</code>，则可以用这样更简单的方式初始化：</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">DatePicker</span>(<span class=\"string\">\"Due Date\"</span>,</span><br><span class=\"line\">            selection: $selectedDate,</span><br><span class=\"line\">            <span class=\"keyword\">in</span>: dateClosedRange,</span><br><span class=\"line\">            displayedComponents: [.hourAndMinute, .date])</span><br></pre></td></tr></table></figure><p>可以使用 <a href=\"https://developer.apple.com/documentation/swift/closedrange\" target=\"_blank\"><code>ClosedRange</code></a>、<a href=\"https://developer.apple.com/documentation/swift/partialrangethrough\" target=\"_blank\"><code>PartialRangeThrough</code></a> 和 <a href=\"https://developer.apple.com/documentation/swift/partialrangefrom\" target=\"_blank\"><code>PartialRangeFrom</code></a> 来设置 <code>minimumDate</code> 和 <code>maximumDate</code> 。</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">DatePicker</span>(<span class=\"string\">\"Minimum Date\"</span>,</span><br><span class=\"line\">    selection: $selectedDate,</span><br><span class=\"line\">    <span class=\"keyword\">in</span>: <span class=\"type\">Date</span>()...,</span><br><span class=\"line\">    displayedComponents: [.date])</span><br><span class=\"line\"><span class=\"type\">DatePicker</span>(<span class=\"string\">\"Maximum Date\"</span>,</span><br><span class=\"line\">    selection: $selectedDate,</span><br><span class=\"line\">    <span class=\"keyword\">in</span>: ...<span class=\"type\">Date</span>(),</span><br><span class=\"line\">    displayedComponents: [.date])</span><br></pre></td></tr></table></figure><p><a href=\"https://developer.apple.com/documentation/swiftui/datepicker\" target=\"_blank\">文档</a></p>\n<h3 id=\"slider\"><span id=\"slider\">Slider</span><a href=\"#slider\" title=\"Slider\"></a></h3><p>从有界的线性范围中选择一个值的控件。</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@<span class=\"type\">State</span> <span class=\"keyword\">var</span> progress: <span class=\"type\">Float</span> = <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">Slider</span>(value: $progress, from: <span class=\"number\">0.0</span>, through: <span class=\"number\">100.0</span>, by: <span class=\"number\">5.0</span>)</span><br></pre></td></tr></table></figure><p>Slider 虽然没有 <code>minimumValueImage</code> 和 <code>maximumValueImage</code> 属性， 但可以借助 <code>HStack</code>实现。</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@<span class=\"type\">State</span> <span class=\"keyword\">var</span> progress: <span class=\"type\">Float</span> = <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"type\">HStack</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">Image</span>(systemName: <span class=\"string\">\"sun.min\"</span>)</span><br><span class=\"line\">    <span class=\"type\">Slider</span>(value: $progress, from: <span class=\"number\">0.0</span>, through: <span class=\"number\">100.0</span>, by: <span class=\"number\">5.0</span>)</span><br><span class=\"line\">    <span class=\"type\">Image</span>(systemName: <span class=\"string\">\"sun.max.fill\"</span>)</span><br><span class=\"line\">&#125;.padding()</span><br></pre></td></tr></table></figure><p><a href=\"https://developer.apple.com/documentation/swiftui/slider\" target=\"_blank\">文档</a></p>\n<h3 id=\"stepper\"><span id=\"stepper\">Stepper</span><a href=\"#stepper\" title=\"Stepper\"></a></h3><p>用于执行语义上递增和递减动作的控件。</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@<span class=\"type\">State</span> <span class=\"keyword\">var</span> quantity: <span class=\"type\">Int</span> = <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"type\">Stepper</span>(value: $quantity, <span class=\"keyword\">in</span>: <span class=\"number\">0</span>...<span class=\"number\">10</span>, label: &#123; <span class=\"type\">Text</span>(<span class=\"string\">\"Quantity \\(quantity)\"</span>)&#125;)</span><br></pre></td></tr></table></figure><p>如果您的 <code>Stepper</code> 的标签只有 <code>Text</code>，则可以用这样更简单的方式初始化：</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">Stepper</span>(<span class=\"string\">\"Quantity \\(quantity)\"</span>, value: $quantity, <span class=\"keyword\">in</span>: <span class=\"number\">0</span>...<span class=\"number\">10</span>)</span><br></pre></td></tr></table></figure><p>如果您要一个自己管理的数据源的控件，可以这样写：</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@<span class=\"type\">State</span> <span class=\"keyword\">var</span> quantity: <span class=\"type\">Int</span> = <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"type\">Stepper</span>(onIncrement: &#123;</span><br><span class=\"line\">    <span class=\"keyword\">self</span>.quantity += <span class=\"number\">1</span></span><br><span class=\"line\">&#125;, onDecrement: &#123;</span><br><span class=\"line\">    <span class=\"keyword\">self</span>.quantity -= <span class=\"number\">1</span></span><br><span class=\"line\">&#125;, label: &#123; <span class=\"type\">Text</span>(<span class=\"string\">\"Quantity \\(quantity)\"</span>) &#125;)</span><br></pre></td></tr></table></figure><p><a href=\"https://developer.apple.com/documentation/swiftui/stepper\" target=\"_blank\">文档</a></p>\n<h2 id=\"swiftui---页面布局与演示\">SwiftUI - 页面布局与演示<a href=\"#swiftui---页面布局与演示\" title=\"SwiftUI - 页面布局与演示\"></a></h2><h3 id=\"hstack\"><span id=\"hstack\">HStack</span><a href=\"#hstack\" title=\"HStack\"></a></h3><p>水平排列子元素的视图。</p>\n<p>创建一个水平排列的静态列表：</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">HStack</span> (alignment: .center, spacing: <span class=\"number\">20</span>)&#123;</span><br><span class=\"line\">    <span class=\"type\">Text</span>(<span class=\"string\">\"Hello\"</span>)</span><br><span class=\"line\">    <span class=\"type\">Divider</span>()</span><br><span class=\"line\">    <span class=\"type\">Text</span>(<span class=\"string\">\"World\"</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p><a href=\"https://developer.apple.com/documentation/swiftui/hstack\" target=\"_blank\">文档</a></p>\n<h3 id=\"vstack\"><span id=\"vstack\">VStack</span><a href=\"#vstack\" title=\"VStack\"></a></h3><p>垂直排列子元素的视图。</p>\n<p>创建一个垂直排列的静态列表：</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">VStack</span> (alignment: .center, spacing: <span class=\"number\">20</span>)&#123;</span><br><span class=\"line\">    <span class=\"type\">Text</span>(<span class=\"string\">\"Hello\"</span>)</span><br><span class=\"line\">    <span class=\"type\">Divider</span>()</span><br><span class=\"line\">    <span class=\"type\">Text</span>(<span class=\"string\">\"World\"</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p><a href=\"https://developer.apple.com/documentation/swiftui/vstack\" target=\"_blank\">文档</a></p>\n<h3 id=\"zstack\"><span id=\"zstack\">ZStack</span><a href=\"#zstack\" title=\"ZStack\"></a></h3><p>子元素会在 z轴方向上叠加，同时在垂直/水平轴上对齐的视图。</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">ZStack</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">Text</span>(<span class=\"string\">\"Hello\"</span>)</span><br><span class=\"line\">        .padding(<span class=\"number\">10</span>)</span><br><span class=\"line\">        .background(<span class=\"type\">Color</span>.red)</span><br><span class=\"line\">        .opacity(<span class=\"number\">0.8</span>)</span><br><span class=\"line\">    <span class=\"type\">Text</span>(<span class=\"string\">\"World\"</span>)</span><br><span class=\"line\">        .padding(<span class=\"number\">20</span>)</span><br><span class=\"line\">        .background(<span class=\"type\">Color</span>.red)</span><br><span class=\"line\">        .offset(x: <span class=\"number\">0</span>, y: <span class=\"number\">40</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p><a href=\"https://developer.apple.com/documentation/swiftui/zstack\" target=\"_blank\">文档</a></p>\n<h3 id=\"list\"><span id=\"list\">List</span><a href=\"#list\" title=\"List\"></a></h3><p>用于显示排列一系列数据行的容器。</p>\n<p>创建一个静态可滚动列表：</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">List</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">Text</span>(<span class=\"string\">\"Hello world\"</span>)</span><br><span class=\"line\">    <span class=\"type\">Text</span>(<span class=\"string\">\"Hello world\"</span>)</span><br><span class=\"line\">    <span class=\"type\">Text</span>(<span class=\"string\">\"Hello world\"</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p>表单里的内容可以混搭：</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">List</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">Text</span>(<span class=\"string\">\"Hello world\"</span>)</span><br><span class=\"line\">    <span class=\"type\">Image</span>(systemName: <span class=\"string\">\"clock\"</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p>创建一个动态列表：</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> names = [<span class=\"string\">\"John\"</span>, <span class=\"string\">\"Apple\"</span>, <span class=\"string\">\"Seed\"</span>]</span><br><span class=\"line\"><span class=\"type\">List</span>(names) &#123; name <span class=\"keyword\">in</span></span><br><span class=\"line\">    <span class=\"type\">Text</span>(name)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p>加入分区：</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">List</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">Section</span>(header: <span class=\"type\">Text</span>(<span class=\"string\">\"UIKit\"</span>), footer: <span class=\"type\">Text</span>(<span class=\"string\">\"We will miss you\"</span>)) &#123;</span><br><span class=\"line\">        <span class=\"type\">Text</span>(<span class=\"string\">\"UITableView\"</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"type\">Section</span>(header: <span class=\"type\">Text</span>(<span class=\"string\">\"SwiftUI\"</span>), footer: <span class=\"type\">Text</span>(<span class=\"string\">\"A lot to learn\"</span>)) &#123;</span><br><span class=\"line\">        <span class=\"type\">Text</span>(<span class=\"string\">\"List\"</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p>要使其成为分组列表，请添加 <code>.listStyle(GroupedListStyle())</code>：</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">List</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">Section</span>(header: <span class=\"type\">Text</span>(<span class=\"string\">\"UIKit\"</span>), footer: <span class=\"type\">Text</span>(<span class=\"string\">\"We will miss you\"</span>)) &#123;</span><br><span class=\"line\">        <span class=\"type\">Text</span>(<span class=\"string\">\"UITableView\"</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"type\">Section</span>(header: <span class=\"type\">Text</span>(<span class=\"string\">\"SwiftUI\"</span>), footer: <span class=\"type\">Text</span>(<span class=\"string\">\"A lot to learn\"</span>)) &#123;</span><br><span class=\"line\">        <span class=\"type\">Text</span>(<span class=\"string\">\"List\"</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;.listStyle(<span class=\"type\">GroupedListStyle</span>())</span><br></pre></td></tr></table></figure><p><a href=\"https://developer.apple.com/documentation/swiftui/list\" target=\"_blank\">文档</a></p>\n<h3 id=\"scrollview\"><span id=\"scrollview\">ScrollView</span><a href=\"#scrollview\" title=\"ScrollView\"></a></h3><p>滚动视图。</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">ScrollView</span>(alwaysBounceVertical: <span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">    <span class=\"type\">Image</span>(<span class=\"string\">\"foo\"</span>)</span><br><span class=\"line\">    <span class=\"type\">Text</span>(<span class=\"string\">\"Hello World\"</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p><a href=\"https://developer.apple.com/documentation/swiftui/scrollview\" target=\"_blank\">文档</a></p>\n<h3 id=\"form\"><span id=\"form\">Form</span><a href=\"#form\" title=\"Form\"></a></h3><p>对数据输入的控件进行分组的容器，例如在设置或检查器中。</p>\n<p>您可以往表单中插入任何内容，它将为表单渲染适当的样式。</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">NavigationView</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">Form</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">Section</span> &#123;</span><br><span class=\"line\">            <span class=\"type\">Text</span>(<span class=\"string\">\"Plain Text\"</span>)</span><br><span class=\"line\">            <span class=\"type\">Stepper</span>(value: $quantity, <span class=\"keyword\">in</span>: <span class=\"number\">0</span>...<span class=\"number\">10</span>, label: &#123; <span class=\"type\">Text</span>(<span class=\"string\">\"Quantity\"</span>) &#125;)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"type\">Section</span> &#123;</span><br><span class=\"line\">            <span class=\"type\">DatePicker</span>($date, label: &#123; <span class=\"type\">Text</span>(<span class=\"string\">\"Due Date\"</span>) &#125;)</span><br><span class=\"line\">            <span class=\"type\">Picker</span>(selection: $selection, label:</span><br><span class=\"line\">                <span class=\"type\">Text</span>(<span class=\"string\">\"Picker Name\"</span>)</span><br><span class=\"line\">                , content: &#123;</span><br><span class=\"line\">                    <span class=\"type\">Text</span>(<span class=\"string\">\"Value 1\"</span>).tag(<span class=\"number\">0</span>)</span><br><span class=\"line\">                    <span class=\"type\">Text</span>(<span class=\"string\">\"Value 2\"</span>).tag(<span class=\"number\">1</span>)</span><br><span class=\"line\">                    <span class=\"type\">Text</span>(<span class=\"string\">\"Value 3\"</span>).tag(<span class=\"number\">2</span>)</span><br><span class=\"line\">                    <span class=\"type\">Text</span>(<span class=\"string\">\"Value 4\"</span>).tag(<span class=\"number\">3</span>)</span><br><span class=\"line\">            &#125;)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p><a href=\"https://developer.apple.com/documentation/swiftui/form\" target=\"_blank\">文档</a></p>\n<h3 id=\"spacer\"><span id=\"spacer\">Spacer</span><a href=\"#spacer\" title=\"Spacer\"></a></h3><p>一块既能在包含栈布局时沿主轴伸展，也能在不包含栈时沿两个轴展开的灵活空间。</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">HStack</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">Image</span>(systemName: <span class=\"string\">\"clock\"</span>)</span><br><span class=\"line\">    <span class=\"type\">Spacer</span>()</span><br><span class=\"line\">    <span class=\"type\">Text</span>(<span class=\"string\">\"Time\"</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p><a href=\"https://developer.apple.com/documentation/swiftui/spacer\" target=\"_blank\">文档</a></p>\n<h3 id=\"divider\"><span id=\"divider\">Divider</span><a href=\"#divider\" title=\"Divider\"></a></h3><p>用于分隔其它内容的可视化元素。</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">HStack</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">Image</span>(systemName: <span class=\"string\">\"clock\"</span>)</span><br><span class=\"line\">    <span class=\"type\">Divider</span>()</span><br><span class=\"line\">    <span class=\"type\">Text</span>(<span class=\"string\">\"Time\"</span>)</span><br><span class=\"line\">&#125;.fixedSize()</span><br></pre></td></tr></table></figure><p><a href=\"https://developer.apple.com/documentation/swiftui/divider\" target=\"_blank\">文档</a></p>\n<h3 id=\"navigationview\"><span id=\"navigationview\">NavigationView</span><a href=\"#navigationview\" title=\"NavigationView\"></a></h3><p>用于渲染视图堆栈的视图，这些视图会展示导航层次结构中的可见路径。</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">NavigationView</span> &#123;            </span><br><span class=\"line\">    <span class=\"type\">List</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">Text</span>(<span class=\"string\">\"Hello World\"</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    .navigationBarTitle(<span class=\"type\">Text</span>(<span class=\"string\">\"Navigation Title\"</span>)) <span class=\"comment\">// 默认使用大标题样式</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p>对于旧样式标题：</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">NavigationView</span> &#123;            </span><br><span class=\"line\">    <span class=\"type\">List</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">Text</span>(<span class=\"string\">\"Hello World\"</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    .navigationBarTitle(<span class=\"type\">Text</span>(<span class=\"string\">\"Navigation Title\"</span>), displayMode: .inline)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p>增加 <code>UIBarButtonItem</code></p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">NavigationView</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">List</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">Text</span>(<span class=\"string\">\"Hello World\"</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    .navigationBarItems(trailing:</span><br><span class=\"line\">        <span class=\"type\">Button</span>(action: &#123;</span><br><span class=\"line\">            <span class=\"comment\">// Add action</span></span><br><span class=\"line\">        &#125;, label: &#123;</span><br><span class=\"line\">            <span class=\"type\">Text</span>(<span class=\"string\">\"Add\"</span>)</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    )</span><br><span class=\"line\">    .navigationBarTitle(<span class=\"type\">Text</span>(<span class=\"string\">\"Navigation Title\"</span>))</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p>用 <a href=\"#navigationlink\">NavigationLink</a> 添加 <code>show</code>/<code>push</code> 功能。</p>\n<p>作为 <code>UISplitViewController</code>：</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">NavigationView</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">List</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">NavigationLink</span>(<span class=\"string\">\"Go to detail\"</span>, destination: <span class=\"type\">Text</span>(<span class=\"string\">\"New Detail\"</span>))</span><br><span class=\"line\">    &#125;.navigationBarTitle(<span class=\"string\">\"Master\"</span>)</span><br><span class=\"line\">    <span class=\"type\">Text</span>(<span class=\"string\">\"Placeholder for Detail\"</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p>您可以使用两种新的样式属性：<code>stack</code> 和 <code>doubleColumn</code> 为 NavigationView 设置样式。默认情况下，iPhone 和 Apple TV 上的导航栏上显示导航堆栈，而在 iPad 和 Mac 上，显示的是拆分样式的导航视图。</p>\n<p>您可以通过 <code>.navigationViewStyle</code> 重写样式：</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">NavigationView</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">MyMasterView</span>()</span><br><span class=\"line\">    <span class=\"type\">MyDetailView</span>()</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.navigationViewStyle(<span class=\"type\">StackNavigationViewStyle</span>())</span><br></pre></td></tr></table></figure><p>在 beta 3中，<code>NavigationView</code> 支持拆分视图，但它仅支持非常基本的结构，其中主视图为列表，详细视图为叶视图，我期待在下一个 release 版本中能有优化补充。</p>\n<p><a href=\"https://developer.apple.com/documentation/swiftui/navigationview\" target=\"_blank\">文档</a></p>\n<h3 id=\"tabview\"><span id=\"tabview\">TabView</span><a href=\"#tabview\" title=\"TabView\"></a></h3><p>使用交互式用户界面元素在多个子视图之间切换的视图。</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">TabView</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">Text</span>(<span class=\"string\">\"First View\"</span>)</span><br><span class=\"line\">        .font(.title)</span><br><span class=\"line\">        .tabItem(&#123; <span class=\"type\">Text</span>(<span class=\"string\">\"First\"</span>) &#125;)</span><br><span class=\"line\">        .tag(<span class=\"number\">0</span>)</span><br><span class=\"line\">    <span class=\"type\">Text</span>(<span class=\"string\">\"Second View\"</span>)</span><br><span class=\"line\">        .font(.title)</span><br><span class=\"line\">        .tabItem(&#123; <span class=\"type\">Text</span>(<span class=\"string\">\"Second\"</span>) &#125;)</span><br><span class=\"line\">        .tag(<span class=\"number\">1</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p>标签元素支持同时显示图像和文本， 您也可以使用 SF Symbols。</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">TabView</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">Text</span>(<span class=\"string\">\"First View\"</span>)</span><br><span class=\"line\">        .font(.title)</span><br><span class=\"line\">        .tabItem(&#123;</span><br><span class=\"line\">            <span class=\"type\">Image</span>(systemName: <span class=\"string\">\"circle\"</span>)</span><br><span class=\"line\">            <span class=\"type\">Text</span>(<span class=\"string\">\"First\"</span>)</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        .tag(<span class=\"number\">0</span>)</span><br><span class=\"line\">    <span class=\"type\">Text</span>(<span class=\"string\">\"Second View\"</span>)</span><br><span class=\"line\">        .font(.title)</span><br><span class=\"line\">        .tabItem(<span class=\"type\">VStack</span> &#123;</span><br><span class=\"line\">            <span class=\"type\">Image</span>(<span class=\"string\">\"second\"</span>)</span><br><span class=\"line\">            <span class=\"type\">Text</span>(<span class=\"string\">\"Second\"</span>)</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        .tag(<span class=\"number\">1</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p>您也可以省略 <code>VStack</code>：</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">TabView</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">Text</span>(<span class=\"string\">\"First View\"</span>)</span><br><span class=\"line\">        .font(.title)</span><br><span class=\"line\">        .tabItem(&#123;</span><br><span class=\"line\">            <span class=\"type\">Image</span>(systemName: <span class=\"string\">\"circle\"</span>)</span><br><span class=\"line\">            <span class=\"type\">Text</span>(<span class=\"string\">\"First\"</span>)</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        .tag(<span class=\"number\">0</span>)</span><br><span class=\"line\">    <span class=\"type\">Text</span>(<span class=\"string\">\"Second View\"</span>)</span><br><span class=\"line\">        .font(.title)</span><br><span class=\"line\">        .tabItem(&#123;</span><br><span class=\"line\">            <span class=\"type\">Image</span>(<span class=\"string\">\"second\"</span>)</span><br><span class=\"line\">            <span class=\"type\">Text</span>(<span class=\"string\">\"Second\"</span>)</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        .tag(<span class=\"number\">1</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p><a href=\"https://developer.apple.com/documentation/swiftui/tabview\" target=\"_blank\">文档</a></p>\n<h3 id=\"alert\"><span id=\"alert\">Alert</span><a href=\"#alert\" title=\"Alert\"></a></h3><p>一个展示警告信息的容器。</p>\n<p>我们可以根据布尔值显示 <code>Alert</code> 。</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@<span class=\"type\">State</span> <span class=\"keyword\">var</span> isError: <span class=\"type\">Bool</span> = <span class=\"literal\">false</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">Button</span>(<span class=\"string\">\"Alert\"</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">self</span>.isError = <span class=\"literal\">true</span></span><br><span class=\"line\">&#125;.alert(isPresented: $isError, content: &#123;</span><br><span class=\"line\">    <span class=\"type\">Alert</span>(title: <span class=\"type\">Text</span>(<span class=\"string\">\"Error\"</span>), message: <span class=\"type\">Text</span>(<span class=\"string\">\"Error Reason\"</span>), dismissButton: .<span class=\"keyword\">default</span>(<span class=\"type\">Text</span>(<span class=\"string\">\"OK\"</span>)))</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure><p>它也可与 <code>Identifiable</code> 项目绑定。</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@<span class=\"type\">State</span> <span class=\"keyword\">var</span> error: <span class=\"type\">AlertError?</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> body: some <span class=\"type\">View</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">Button</span>(<span class=\"string\">\"Alert Error\"</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.error = <span class=\"type\">AlertError</span>(reason: <span class=\"string\">\"Reason\"</span>)</span><br><span class=\"line\">    &#125;.alert(item: $error, content: &#123; error <span class=\"keyword\">in</span></span><br><span class=\"line\">        alert(reason: error.reason)</span><br><span class=\"line\">    &#125;)    </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">alert</span><span class=\"params\">(reason: String)</span></span> -&gt; <span class=\"type\">Alert</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">Alert</span>(title: <span class=\"type\">Text</span>(<span class=\"string\">\"Error\"</span>),</span><br><span class=\"line\">            message: <span class=\"type\">Text</span>(reason),</span><br><span class=\"line\">            dismissButton: .<span class=\"keyword\">default</span>(<span class=\"type\">Text</span>(<span class=\"string\">\"OK\"</span>))</span><br><span class=\"line\">    )</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">AlertError</span>: <span class=\"title\">Identifiable</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> id: <span class=\"type\">String</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> reason</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">let</span> reason: <span class=\"type\">String</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p><a href=\"https://developer.apple.com/documentation/swiftui/alert\" target=\"_blank\">文档</a></p>\n<h3 id=\"modal\"><span id=\"modal\">Modal</span><a href=\"#modal\" title=\"Modal\"></a></h3><p>模态视图的存储类型。</p>\n<p>我们可以根据布尔值显示 <code>Modal</code> 。</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@<span class=\"type\">State</span> <span class=\"keyword\">var</span> isModal: <span class=\"type\">Bool</span> = <span class=\"literal\">false</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> modal: some <span class=\"type\">View</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">Text</span>(<span class=\"string\">\"Modal\"</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">Button</span>(<span class=\"string\">\"Modal\"</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">self</span>.isModal = <span class=\"literal\">true</span></span><br><span class=\"line\">&#125;.sheet(isPresented: $isModal, content: &#123;</span><br><span class=\"line\">    <span class=\"keyword\">self</span>.modal</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure><p><a href=\"https://developer.apple.com/documentation/swiftui/view/3352791-sheet\" target=\"_blank\">文档</a></p>\n<p>它也可与 <code>Identifiable</code> 项目绑定。</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@<span class=\"type\">State</span> <span class=\"keyword\">var</span> detail: <span class=\"type\">ModalDetail?</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> body: some <span class=\"type\">View</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">Button</span>(<span class=\"string\">\"Modal\"</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.detail = <span class=\"type\">ModalDetail</span>(body: <span class=\"string\">\"Detail\"</span>)</span><br><span class=\"line\">    &#125;.sheet(item: $detail, content: &#123; detail <span class=\"keyword\">in</span></span><br><span class=\"line\">        <span class=\"keyword\">self</span>.modal(detail: detail.body)</span><br><span class=\"line\">    &#125;)    </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">modal</span><span class=\"params\">(detail: String)</span></span> -&gt; some <span class=\"type\">View</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">Text</span>(detail)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">ModalDetail</span>: <span class=\"title\">Identifiable</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> id: <span class=\"type\">String</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> body</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">let</span> body: <span class=\"type\">String</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p><a href=\"https://developer.apple.com/documentation/swiftui/view/3352792-sheet\" target=\"_blank\">文档</a></p>\n<h3 id=\"actionsheet\"><span id=\"actionsheet\">ActionSheet</span><a href=\"#actionsheet\" title=\"ActionSheet\"></a></h3><p>操作表视图的存储类型。</p>\n<p>我们可以根据布尔值显示 <code>ActionSheet</code> 。</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@<span class=\"type\">State</span> <span class=\"keyword\">var</span> isSheet: <span class=\"type\">Bool</span> = <span class=\"literal\">false</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> actionSheet: <span class=\"type\">ActionSheet</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">ActionSheet</span>(title: <span class=\"type\">Text</span>(<span class=\"string\">\"Action\"</span>),</span><br><span class=\"line\">                message: <span class=\"type\">Text</span>(<span class=\"string\">\"Description\"</span>),</span><br><span class=\"line\">                buttons: [</span><br><span class=\"line\">                    .<span class=\"keyword\">default</span>(<span class=\"type\">Text</span>(<span class=\"string\">\"OK\"</span>), action: &#123;</span><br><span class=\"line\">                        </span><br><span class=\"line\">                    &#125;),</span><br><span class=\"line\">                    .destructive(<span class=\"type\">Text</span>(<span class=\"string\">\"Delete\"</span>), action: &#123;</span><br><span class=\"line\">                        </span><br><span class=\"line\">                    &#125;)</span><br><span class=\"line\">                ]</span><br><span class=\"line\">    )</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">Button</span>(<span class=\"string\">\"Action Sheet\"</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">self</span>.isSheet = <span class=\"literal\">true</span></span><br><span class=\"line\">&#125;.actionSheet(isPresented: $isSheet, content: &#123;</span><br><span class=\"line\">    <span class=\"keyword\">self</span>.actionSheet</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure><p>它也可与 <code>Identifiable</code> 项目绑定。</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@<span class=\"type\">State</span> <span class=\"keyword\">var</span> sheetDetail: <span class=\"type\">SheetDetail?</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> body: some <span class=\"type\">View</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">Button</span>(<span class=\"string\">\"Action Sheet\"</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">self</span>.sheetDetail = <span class=\"type\">ModSheetDetail</span>(body: <span class=\"string\">\"Detail\"</span>)</span><br><span class=\"line\">    &#125;.actionSheet(item: $sheetDetail, content: &#123; detail <span class=\"keyword\">in</span></span><br><span class=\"line\">        <span class=\"keyword\">self</span>.sheet(detail: detail.body)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">sheet</span><span class=\"params\">(detail: String)</span></span> -&gt; <span class=\"type\">ActionSheet</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">ActionSheet</span>(title: <span class=\"type\">Text</span>(<span class=\"string\">\"Action\"</span>),</span><br><span class=\"line\">                message: <span class=\"type\">Text</span>(detail),</span><br><span class=\"line\">                buttons: [</span><br><span class=\"line\">                    .<span class=\"keyword\">default</span>(<span class=\"type\">Text</span>(<span class=\"string\">\"OK\"</span>), action: &#123;</span><br><span class=\"line\">                        </span><br><span class=\"line\">                    &#125;),</span><br><span class=\"line\">                    .destructive(<span class=\"type\">Text</span>(<span class=\"string\">\"Delete\"</span>), action: &#123;</span><br><span class=\"line\">                        </span><br><span class=\"line\">                    &#125;)</span><br><span class=\"line\">                ]</span><br><span class=\"line\">    )</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">SheetDetail</span>: <span class=\"title\">Identifiable</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> id: <span class=\"type\">String</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> body</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">let</span> body: <span class=\"type\">String</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p><a href=\"https://developer.apple.com/documentation/swiftui/actionsheet\" target=\"_blank\">文档</a></p>\n<h2 id=\"框架集成---swiftui-中的-uikit-1\">框架集成 - SwiftUI 中的 UIKit<a href=\"#框架集成---swiftui-中的-uikit-1\" title=\"框架集成 - SwiftUI 中的 UIKit\"></a></h2><h3 id=\"uiviewrepresentable\"><span id=\"uiviewrepresentable\">UIViewRepresentable</span><a href=\"#uiviewrepresentable\" title=\"UIViewRepresentable\"></a></h3><p>表示 UIKit 视图的视图，当您想在 SwiftUI 中使用 UIView 时，请使用它。</p>\n<p>要使任何 UIView 在 SwiftUI 中可用，请创建一个符合 UIViewRepresentable 的包装器视图。</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> UIKit</span><br><span class=\"line\"><span class=\"keyword\">import</span> SwiftUI</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">ActivityIndicator</span>: <span class=\"title\">UIViewRepresentable</span> </span>&#123;</span><br><span class=\"line\">    @<span class=\"type\">Binding</span> <span class=\"keyword\">var</span> isAnimating: <span class=\"type\">Bool</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">makeUIView</span><span class=\"params\">(context: Context)</span></span> -&gt; <span class=\"type\">UIActivityIndicatorView</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> v = <span class=\"type\">UIActivityIndicatorView</span>()</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">return</span> v</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">updateUIView</span><span class=\"params\">(<span class=\"number\">_</span> uiView: UIActivityIndicatorView, context: Context)</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> isAnimating &#123;</span><br><span class=\"line\">            uiView.startAnimating()</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            uiView.stopAnimating()</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p>如果您想要桥接 UIKit 里的数据绑定 (delegate, target/action) 就使用 <code>Coordinator</code>， 具体见 <a href=\"https://developer.apple.com/tutorials/swiftui/interfacing-with-uikit\" target=\"_blank\">SwiftUI 教程</a>。</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> SwiftUI</span><br><span class=\"line\"><span class=\"keyword\">import</span> UIKit</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">PageControl</span>: <span class=\"title\">UIViewRepresentable</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> numberOfPages: <span class=\"type\">Int</span></span><br><span class=\"line\">    @<span class=\"type\">Binding</span> <span class=\"keyword\">var</span> currentPage: <span class=\"type\">Int</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">makeUIView</span><span class=\"params\">(context: Context)</span></span> -&gt; <span class=\"type\">UIPageControl</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> control = <span class=\"type\">UIPageControl</span>()</span><br><span class=\"line\">        control.numberOfPages = numberOfPages</span><br><span class=\"line\">        control.addTarget(</span><br><span class=\"line\">            context.coordinator,</span><br><span class=\"line\">            action: #selector(<span class=\"type\">Coordinator</span>.updateCurrentPage(sender:)),</span><br><span class=\"line\">            <span class=\"keyword\">for</span>: .valueChanged)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> control</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">updateUIView</span><span class=\"params\">(<span class=\"number\">_</span> uiView: UIPageControl, context: Context)</span></span> &#123;</span><br><span class=\"line\">        uiView.currentPage = currentPage</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">makeCoordinator</span><span class=\"params\">()</span></span> -&gt; <span class=\"type\">Coordinator</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">Coordinator</span>(<span class=\"keyword\">self</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// This is where old paradigm located</span></span><br><span class=\"line\">    <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Coordinator</span>: <span class=\"title\">NSObject</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> control: <span class=\"type\">PageControl</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">init</span>(<span class=\"number\">_</span> control: <span class=\"type\">PageControl</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">self</span>.control = control</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"meta\">@objc</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">updateCurrentPage</span><span class=\"params\">(sender: UIPageControl)</span></span> &#123;</span><br><span class=\"line\">            control.currentPage = sender.currentPage</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p><a href=\"https://developer.apple.com/documentation/swiftui/uiviewrepresentable\" target=\"_blank\">文档</a></p>\n<h3 id=\"uiviewcontrollerrepresentable\"><span id=\"uiviewcontrollerrepresentable\">UIViewControllerRepresentable</span><a href=\"#uiviewcontrollerrepresentable\" title=\"UIViewControllerRepresentable\"></a></h3><p>表示 UIKit 视图控制器的视图。当您想在 SwiftUI 中使用 UIViewController 时，请使用它。</p>\n<p>要使任何 UIViewController 在 SwiftUI 中可用，请创建一个符合 UIViewControllerRepresentable 的包装器视图，具体见 <a href=\"https://developer.apple.com/tutorials/swiftui/interfacing-with-uikit\" target=\"_blank\">SwiftUI 教程</a>。</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> SwiftUI</span><br><span class=\"line\"><span class=\"keyword\">import</span> UIKit</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">PageViewController</span>: <span class=\"title\">UIViewControllerRepresentable</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> controllers: [<span class=\"type\">UIViewController</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">makeUIViewController</span><span class=\"params\">(context: Context)</span></span> -&gt; <span class=\"type\">UIPageViewController</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> pageViewController = <span class=\"type\">UIPageViewController</span>(</span><br><span class=\"line\">            transitionStyle: .scroll,</span><br><span class=\"line\">            navigationOrientation: .horizontal)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> pageViewController</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">updateUIViewController</span><span class=\"params\">(<span class=\"number\">_</span> pageViewController: UIPageViewController, context: Context)</span></span> &#123;</span><br><span class=\"line\">        pageViewController.setViewControllers(</span><br><span class=\"line\">            [controllers[<span class=\"number\">0</span>]], direction: .forward, animated: <span class=\"literal\">true</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p><a href=\"https://developer.apple.com/documentation/swiftui/uiviewcontrollerrepresentable\" target=\"_blank\">文档</a></p>\n<h2 id=\"框架集成---uikit-中的-swiftui-1\">框架集成 - UIKit 中的 SwiftUI<a href=\"#框架集成---uikit-中的-swiftui-1\" title=\"框架集成 - UIKit 中的 SwiftUI\"></a></h2><h3 id=\"uihostingcontroller\"><span id=\"uihostingcontroller\">UIHostingController</span><a href=\"#uihostingcontroller\" title=\"UIHostingController\"></a></h3><p>表示 SwiftUI 视图的 UIViewController。</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> vc = <span class=\"type\">UIHostingController</span>(rootView: <span class=\"type\">Text</span>(<span class=\"string\">\"Hello World\"</span>))</span><br><span class=\"line\"><span class=\"keyword\">let</span> vc = <span class=\"type\">UIHostingController</span>(rootView: <span class=\"type\">ContentView</span>())</span><br></pre></td></tr></table></figure><p><a href=\"https://developer.apple.com/documentation/swiftui/uihostingcontroller\" target=\"_blank\">文档</a></p>\n<h2 id=\"来源\">来源<a href=\"#来源\" title=\"来源\"></a></h2><ul><li><a href=\"https://developer.apple.com/documentation/swiftui/\" target=\"_blank\">API 文档</a></li><li><a href=\"https://developer.apple.com/tutorials/swiftui/tutorials\" target=\"_blank\">官方教程</a></li><li><a href=\"https://developer.apple.com/videos/wwdc2019/\" target=\"_blank\">WWDC 2019</a><ul><li><a href=\"https://developer.apple.com/videos/play/wwdc2019/204/\" target=\"_blank\">介绍 SwiftUI: 创建您的第一个 App</a></li><li><a href=\"https://developer.apple.com/videos/play/wwdc2019/216/\" target=\"_blank\">SwiftUI 基础</a></li><li><a href=\"https://developer.apple.com/videos/play/wwdc2019/226/\" target=\"_blank\">SwiftUI 数据流</a></li><li><a href=\"https://developer.apple.com/videos/play/wwdc2019/237/\" target=\"_blank\">使用 SwiftUI 构建自定义视图</a></li><li><a href=\"https://developer.apple.com/videos/play/wwdc2019/231/\" target=\"_blank\">集成 SwiftUI</a></li><li><a href=\"https://developer.apple.com/videos/play/wwdc2019/238/\" target=\"_blank\">SwiftUI 中的可访问性</a></li><li><a href=\"https://developer.apple.com/videos/play/wwdc2019/240/\" target=\"_blank\">所有设备上的 SwiftUI</a></li><li><a href=\"https://developer.apple.com/videos/play/wwdc2019/219/\" target=\"_blank\">watchOS 上的 SwiftUI</a></li><li><a href=\"https://developer.apple.com/videos/play/wwdc2019/233/\" target=\"_blank\">掌握 Xcode 预览</a></li></ul></li></ul>","prev":{"title":"App 多渠道打包及重签名方案","link":"2019/solution-of-app-muti-channel-pack"},"next":{"title":"如何提升 Flutter 项目的开发效率","link":"2019/how-to-develop-flutter-projects-more-efficiently"},"plink":"https://blog.fiteen.top/2019/fucking-swift-ui/","toc":[{"id":"常见问题","title":"常见问题","index":"1"},{"id":"要求","title":"要求","index":"2"},{"id":"swiftui-中等效的-uikit","title":"SwiftUI 中等效的 UIKit","index":"3","children":[{"id":"视图控制器","title":"视图控制器","index":"3.1"},{"id":"视图和控件","title":"视图和控件","index":"3.2"},{"id":"框架集成---swiftui-中的-uikit","title":"框架集成 - SwiftUI 中的 UIKit","index":"3.3"},{"id":"框架集成---uikit-中的-swiftui","title":"框架集成 - UIKit 中的 SwiftUI","index":"3.4"}]},{"id":"swiftui---视图和控件","title":"SwiftUI - 视图和控件","index":"4","children":[{"id":"text","title":"Text","index":"4.1"},{"id":"textfield","title":"TextField","index":"4.2"},{"id":"securefield","title":"SecureField","index":"4.3"},{"id":"image","title":"Image","index":"4.4"},{"id":"button","title":"Button","index":"4.5"},{"id":"navigationlink","title":"NavigationLink","index":"4.6"},{"id":"toggle","title":"Toggle","index":"4.7"},{"id":"picker","title":"Picker","index":"4.8"},{"id":"datepicker","title":"DatePicker","index":"4.9"},{"id":"slider","title":"Slider","index":"4.10"},{"id":"stepper","title":"Stepper","index":"4.11"}]},{"id":"swiftui---页面布局与演示","title":"SwiftUI - 页面布局与演示","index":"5","children":[{"id":"hstack","title":"HStack","index":"5.1"},{"id":"vstack","title":"VStack","index":"5.2"},{"id":"zstack","title":"ZStack","index":"5.3"},{"id":"list","title":"List","index":"5.4"},{"id":"scrollview","title":"ScrollView","index":"5.5"},{"id":"form","title":"Form","index":"5.6"},{"id":"spacer","title":"Spacer","index":"5.7"},{"id":"divider","title":"Divider","index":"5.8"},{"id":"navigationview","title":"NavigationView","index":"5.9"},{"id":"tabview","title":"TabView","index":"5.10"},{"id":"alert","title":"Alert","index":"5.11"},{"id":"modal","title":"Modal","index":"5.12"},{"id":"actionsheet","title":"ActionSheet","index":"5.13"}]},{"id":"框架集成---swiftui-中的-uikit-1","title":"框架集成 - SwiftUI 中的 UIKit","index":"6","children":[{"id":"uiviewrepresentable","title":"UIViewRepresentable","index":"6.1"},{"id":"uiviewcontrollerrepresentable","title":"UIViewControllerRepresentable","index":"6.2"}]},{"id":"框架集成---uikit-中的-swiftui-1","title":"框架集成 - UIKit 中的 SwiftUI","index":"7","children":[{"id":"uihostingcontroller","title":"UIHostingController","index":"7.1"}]},{"id":"来源","title":"来源","index":"8"}],"reward":true,"copyright":{"author":"FiTeen","link":"<a href=\"https://blog.fiteen.top/2019/fucking-swift-ui/\" title=\"【译】Fucking SwiftUI\">https://blog.fiteen.top/2019/fucking-swift-ui/</a>","license":"Attribution-NonCommercial-NoDerivatives 4.0 International (<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" rel=\"external nofollow noopener\" target=\"_blank\">CC BY-NC-ND 4.0</a>)"}}