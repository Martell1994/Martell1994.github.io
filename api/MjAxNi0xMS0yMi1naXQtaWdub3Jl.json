{"title":"Git 手册之用 .gitignore 忽略文件","date":"2016-11-21T17:34:57.000Z","date_formatted":{"ll":"Nov 22, 2016","L":"11/22/2016","MM-DD":"11-22"},"link":"2016-11-22-git-ignore","tags":[".gitignore"],"categories":["Git"],"updated":"2019-12-05T03:33:40.688Z","content":"<p>提交代码后我们经常发现，即使没有任何代码修改，有一些文件也会提示更新，例如：<code>UserInterfaceState.xcuserstate</code>、<code>.DS_Store</code> 等。</p>\n<p>这种情况可以通过添加 <code>.gitignore</code> 文件解决。</p>\n<a id=\"more\"></a>\n\n<h2 id=\"如何在项目中添加-gitignore\">如何在项目中添加 <code>.gitignore</code><a href=\"2016-11-22-git-ignore#如何在项目中添加-gitignore\"></a></h2><p>具体步骤如下：</p>\n<ol>\n<li><p>打开终端 进入项目中 <code>.git</code> 同目录下</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> &lt;path&gt;</span></pre></td></tr></table></div></figure>\n</li>\n<li><p>创建 <code>.gitignore</code> 文件</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span></pre></td><td class=\"code\"><pre><span class=\"line\">touch .gitignore</span></pre></td></tr></table></div></figure>\n</li>\n<li><p>打开 <code>.gitignore</code> 文件</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span></pre></td><td class=\"code\"><pre><span class=\"line\">open .gitignore</span></pre></td></tr></table></div></figure>\n</li>\n<li><p>参照 <a href=\"https://github.com/github/gitignore\" target=\"_blank\" rel=\"noopener\">.gitignore 模版</a>，找到对应的开发语言，将模版文本粘贴到自己的 <code>.gitignore</code> 中</p>\n</li>\n<li><p>更新项目</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span></pre></td><td class=\"code\"><pre><span class=\"line\">git add .gitignore</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">2</span></pre></td><td class=\"code\"><pre><span class=\"line\">git commit -m <span class=\"string\">\"feat: add .gitignore file\"</span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">3</span></pre></td><td class=\"code\"><pre><span class=\"line\">git push</span></pre></td></tr></table></div></figure>\n<h2 id=\"删除-DS-Store\"><a href=\"2016-11-22-git-ignore#删除-DS-Store\" class=\"headerlink\" title=\"删除 .DS_Store\"></a>删除 .DS_Store</h2></li>\n</ol>\n<p><code>.DS_Store</code> 是Mac OS 保存文件夹的自定义属性的隐藏文件。如果项目中还没有自动生成 <code>.DS_Store</code>，把它加入到 <code>.gitignore</code> 中即可；但如果项目中已经有了，先从项目中将其删除，再把它加入到 <code>.gitignore</code> 里。步骤如下：</p>\n<ol>\n<li><p>删除项目中的所有 <code>.DS_Store</code></p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span></pre></td><td class=\"code\"><pre><span class=\"line\">find . -name .DS_Store -print0 | xargs -0 git rm -f --ignore-unmatch</span></pre></td></tr></table></div></figure>\n</li>\n<li><p>将 <code>.DS_Store</code> 加入到 <code>.gitignore</code> 文件中</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">echo</span> .DS_Store &gt;&gt; ~/.gitignore</span></pre></td></tr></table></div></figure>\n</li>\n<li><p>更新项目</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span></pre></td><td class=\"code\"><pre><span class=\"line\">git add --all</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">2</span></pre></td><td class=\"code\"><pre><span class=\"line\">git commit -m <span class=\"string\">\"feat: ignore .DS_Store\"</span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">3</span></pre></td><td class=\"code\"><pre><span class=\"line\">git push</span></pre></td></tr></table></div></figure>\n\n</li>\n</ol>\n<p>如果只需要删除磁盘上的 <code>.DS_Store</code>，用下面的命令来删除当前目录及其子目录下的所有 <code>.DS_Store</code> 文件：</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span></pre></td><td class=\"code\"><pre><span class=\"line\">find . -name <span class=\"string\">'*.DS_Store'</span> -<span class=\"built_in\">type</span> f -delete</span></pre></td></tr></table></div></figure>\n\n<p>你也可以通过输入这串命令直接禁止生成 <code>.DS_store</code>，重启Mac即可生效：</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span></pre></td><td class=\"code\"><pre><span class=\"line\">defaults write com.apple.desktopservices DSDontWriteNetworkStores -bool TRUE</span></pre></td></tr></table></div></figure>\n\n<p>恢复 <code>.DS_store</code> 生成的命令为：</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span></pre></td><td class=\"code\"><pre><span class=\"line\">defaults delete com.apple.desktopservices DSDontWriteNetworkStores</span></pre></td></tr></table></div></figure>","prev":{"title":"如何在 Xcode8上安装插件","link":"2016-11-30-how-to-install-plugins-on-Xcode8"},"next":{"title":"《Effective Objective-C 2.0》整理（四）：协议与分类","link":"2016-09-28-EOC2.0-Chapter-4"},"plink":"https://fiteen.top/2016-11-22-git-ignore/","toc":[{"title":"如何在项目中添加 <code>.gitignore</code>","id":"如何在项目中添加-gitignore","index":"1"},{"title":"","id":"删除-DS-Store","index":"2"}],"copyright":{"author":"FiTeen","link":"<a href=\"https://fiteen.top/2016-11-22-git-ignore/\" title=\"Git 手册之用 .gitignore 忽略文件\">https://fiteen.top/2016-11-22-git-ignore/</a>","license":"Attribution-NonCommercial-NoDerivatives 4.0 International (<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" rel=\"external nofollow noopener\" target=\"_blank\">CC BY-NC-ND 4.0</a>)"}}